{% load performance_tags %}
{% load tag_tags %}
{% load work_tags %}

<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono" rel="stylesheet">
    <link href="/static/css/style.css" rel="stylesheet"/>
    <title>{% block title %}{% endblock %}</title>
</head>

<body>
    <div id="header"> <h1><a class="black" href="/">ericheep</a></h1> </div>

    <div id="flex-tags" >
        {% get_tags tag_slug as tags %}
        {% for tag in tags %}
            <div id="flex-tag">
                <a class="gray" href="/{{ tag.slug }}/"> {{ tag }} </a>
            </div>
        {% endfor %}
    </div>

    <div id="flex-body">
        <div id="flex-works">
            <div class="gray works-title"> works </div>
            {% get_filtered_works tag_slug as filtered_works %}
            {% for filtered_work in filtered_works %}
                <div class="work-link">
                    <a class="red" href="/{{tag_slug}}/{{ filtered_work.slug }}/">
                        {{filtered_work.slug}}
                    </a>
                </div>
            {% endfor %}
        </div>

        <div id="flex-content">
            <div id="content-title">
                {% block content_title %}{% endblock %}
            </div>
            {% block content %}{% endblock %}
        </div>

        <div id="flex-performances">
            <div class="gray works-title"> performances </div>
            {% get_performances as performances %}
            {% for performance in performances %}
                <div id="performance-title"> {{performance.work}} @ {{ performance.venue }} </div>
                <div id="performance-event"> {{performance.event}} | {{ performance.date|date:"m-d-Y gA"}} </div>
            {% endfor %}
        </div>
    </div>
</body>
</html>
